namespace DistanceTest;
internal class Distance
{
    //Расстояние от точки P(px, py) до отрезка AB с координатами A(ax, ay), B(bx, by)
    public static double GetDistance(double px, double py, double ax, double ay, double bx, double by)
    {
        double abX = bx - ax;
        double abY = by - ay;
        if (abX == 0 && abY == 0)
        {
            return Math.Sqrt((px - ax) * (px - ax) + (py - ay) * (py - ay));
        }
        double apX = px - ax;
        double apY = py - ay;
        double dotProduct = apX * abX + apY * abY;
        double lengthSq = abX * abX + abY * abY;
        double d = dotProduct / lengthSq;
        d = Math.Max(0, Math.Min(1, d));
        double nearX = ax + d * abX;
        double nearY = ay + d * abY;
        return Math.Sqrt((px - nearX) * (px - nearX) + (py - nearY) * (py - nearY));
    }
}
